{
  "group": "QA",
  "name": "NRCorePlatformTestsClone",
  "label_template": "${COUNT}",
  "enable_pipeline_locking": true,
  "tracking_tool": null,
  "timer": null,
    "environment_variables": [
        {
            "name": "BATCH_SIZE",
            "secure": false,
            "value": "100"
        },
        {
            "name": "OUTSYSTEMS_HOME_LINUX",
            "secure": false,
            "value": "/opt/outsystems/platform"
        },
        {
            "name": "TESTS_JAVA_HOME",
            "secure": false,
            "value": "/etc/alternatives/java_sdk_1.8.0"
        },
        {
            "name": "TESTS_CLASSPATH",
            "secure": false,
            "value": "./outsystems.hubedition.communication.jar:./outsystems.hubedition.pipeline.jar:./testscommon.jar:./javaservertests.jar:./runtimeplatform.unittests.jar:./outsystems.widgetsruntimeapi.jar:./servercommon.unittests.jar:./javaservertests.jar:./compilerservice.jar:./outsystems.packagemanager.jar:./configurationtool.jar:./deployservice.jar:./logserver.jar:./outsystems.viewframework.jar:./outsystems.hubedition.compiler.jar:./outsystems.clientruntime.jar:./outsystems.codegeneration.jar:./outsystems.modelplugins.jar:./outsystems.compilerapi.jar:./outsystems.compilerrestapi.jar:./plugins/compiler/*:./outsystems.activation.jar:./scheduler.jar:./scinstaller.jar:./outsystems.nosomlprocessor.jar:./junit-4.12.jar:./hamcrest-core-1.3.jar:./outsystems.junit.jar:./thirdparty/lib/*:/opt/outsystems/platform/lib/*:/opt/outsystems/platform/outsystems.hubedition.runtimeplatformutil.jar:/opt/outsystems/platform/outsystems.hubedition.runtimecommon.jar:/opt/outsystems/platform/outsystems.hubedition.common.jar:/opt/outsystems/platform/outsystems.hubedition.runtimeplatform.jar:/opt/outsystems/platform/outsystems.hubedition.databaseabstractionlayer.jar:/opt/outsystems/platform/plugins/database/*:/opt/outsystems/platform/plugins/database/internal/*:/opt/outsystems/platform/outsystems.hubedition.servercommon.jar:/opt/outsystems/platform/outsystems.runtimeservices.jar:/opt/outsystems/platform/lib/active.connectors/*:/etc/alternatives/java_sdk_1.8.0/lib/tools.jar:/opt/apache-ant-1.9.2/lib/ant.jar:./jackson-annotations.jar:./jackson-core.jar:./jackson-databind.jar:./javanrwidgets.karma.unittests.jar:./outsystems.rest.tests.jar:./outsystems.sap.tests.jar:./outsystems.plugin.viewframework.react.jar:./outsystems.plugin.viewframework.react.tests.jar:./outsystems.restservice.runtime.jar"
        },
        {
            "name": "CI_PATH",
            "secure": false,
            "value": "/eSpace/QA/ContinuousIntegration/"
        },
        {
            "name": "JACINTIA_WEB_SERVER",
            "secure": false,
            "value": "WILDFLY"
        }
    ],
    "materials": [
        {
		
  "url": "https://srvptsvn.domain.outsystems.com/svn/rd/platform/branches/b10_0_0/",
  "username": "extracvs",
  "check_externals": false,
  "filter": null,
  "destination": "b10_0_0",
  "auto_update": false,
  "name": "PlatformCode",
  "encrypted_password": "ZS+3XG45Xck=",
  "type": "svn"

          
        },
        {
       
                "auto_update": true,
                "check_externals": false,
                "destination": "ContinuousIntegration",
                "encrypted_password": "ZS+3XG45Xck=",
                "filter": {
                    "ignore": [
                        "tools/**/*"
                    ]
                },
                "name": "ContinuousIntegration",
                "url": "https://srvptsvn.domain.outsystems.com/svn/rd/tools/branches/BuildPipeline_DEV/CINTIA",
                "username": "extracvs",
            "type": "svn"
        },
        {
                "auto_update": true,
                "name": "CINTIA_JAVA",
                "pipeline": "NRTranslation",
                "stage": "JavaTranslation",
            
            "type": "dependency"
        },
        {
            
                "auto_update": true,
                "name": "CINTIA",
                "pipeline": "NRBuild",
                "stage": "PublishBuildToS3",
            
            "type": "dependency"
        }
    ],
    "stages": [
        {
            "approval": {
                "authorization": {
                    "roles": [],
                    "users": []
                },
                "type": "success"
            },
            "clean_working_directory": false,
            "environment_variables": [],
            "fetch_materials": true,
            "jobs": [
                {
                    "artifacts": [],
                    "environment_variables": [],
                    "name": "Cleanup_Java",
                    "properties": null,
                    "resources": [
                        "JACINTIA"
                    ],
                    "run_instance_count": "all",
                    "tabs": [],
                    "tasks": [
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "cd ../pipelines/$GO_PIPELINE_NAME/ContinuousIntegration\r\n\r\nsource /opt/rh/python27/enable\r\n\r\npython create_event.py $GO_REVISION_PLATFORMCODE $BRANCH_NAME CorePlatform Cleanup --start"
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "passed"
                                ]
                            },
                            "type": "plugin"
                        },
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "cd ../pipelines/$GO_PIPELINE_NAME/ContinuousIntegration\r\n\r\nsource /opt/rh/python27/enable\r\n\r\npython  -c \"from restclients.regression import cleanup_client; cleanup_client.run_db_maint()\""
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "passed"
                                ]
                            },
                            "type": "plugin"
                        },
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "cd ../pipelines/$GO_PIPELINE_NAME/ContinuousIntegration\r\n\r\nsource /opt/rh/python27/enable\r\n\r\npython  -c \"from restclients.regression import cleanup_client; cleanup_client.run_disk_maint()\""
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "passed"
                                ]
                            },
                            "type": "plugin"
                        },
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "cd ../pipelines/$GO_PIPELINE_NAME/ContinuousIntegration\r\n\r\nsource /opt/rh/python27/enable\r\n\r\npython create_event.py $GO_REVISION_PLATFORMCODE $BRANCH_NAME CorePlatform Cleanup --end --haspassed True"
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "passed"
                                ]
                            },
                            "type": "plugin"
                        },
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "cd ../pipelines/$GO_PIPELINE_NAME/ContinuousIntegration\r\n\r\nsource /opt/rh/python27/enable\r\n\r\npython create_event.py $GO_REVISION_PLATFORMCODE $BRANCH_NAME CorePlatform Cleanup --end --haspassed False --goconsolelink http://$GO_SERVER/go/files/$GO_PIPELINE_NAME/$GO_PIPELINE_COUNTER/$GO_STAGE_NAME/$GO_STAGE_COUNTER/$GO_JOB_NAME/cruise-output/console.log"
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "failed"
                                ]
                            },
                            "type": "plugin"
                        }
                    ],
                    "timeout": 30
                },
                {
                    "artifacts": [],
                    "environment_variables": [],
                    "name": "Cleanup_DotNet",
                    "properties": null,
                    "resources": [
                        "CIAPlatformCore"
                    ],
                    "run_instance_count": "all",
                    "tabs": [],
                    "tasks": [
                        {
                            "attributes": {
                                "arguments": [
                                    "/C",
                                    "if",
                                    "exist",
                                    "b10_0_0\\extracted\\",
                                    "rd",
                                    "/q",
                                    "/s",
                                    "b10_0_0\\extracted\\"
                                ],
                                "command": "cmd.exe",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "create_event.py",
                                    "%GO_REVISION_PLATFORMCODE%",
                                    "%BRANCH_NAME%",
                                    "CorePlatform",
                                    "Cleanup",
                                    "--start"
                                ],
                                "command": "python",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "ContinuousIntegration"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "\"from restclients.regression import cleanup_client; cleanup_client.run_db_maint()\""
                                ],
                                "command": "python",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "ContinuousIntegration"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "\"from restclients.regression import cleanup_client; cleanup_client.run_disk_maint()\""
                                ],
                                "command": "python",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "ContinuousIntegration"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "create_event.py",
                                    "%GO_REVISION_PLATFORMCODE%",
                                    "%BRANCH_NAME%",
                                    "CorePlatform",
                                    "Cleanup",
                                    "--end",
                                    "--haspassed",
                                    "True"
                                ],
                                "command": "python",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "ContinuousIntegration"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "create_event.py",
                                    "%GO_REVISION_PLATFORMCODE%",
                                    "%BRANCH_NAME%",
                                    "CorePlatform",
                                    "Cleanup",
                                    "--end",
                                    "--haspassed",
                                    "False",
                                    "--goconsolelink",
                                    "http://%GO_SERVER%/go/files/%GO_PIPELINE_NAME%/%GO_PIPELINE_COUNTER%/%GO_STAGE_NAME%/%GO_STAGE_COUNTER%/%GO_JOB_NAME%/cruise-output/console.log"
                                ],
                                "command": "python",
                                "on_cancel": null,
                                "run_if": [
                                    "failed"
                                ],
                                "working_directory": "ContinuousIntegration"
                            },
                            "type": "exec"
                        }
                    ],
                    "timeout": 30
                },
                {
                    "artifacts": [],
                    "environment_variables": [],
                    "name": "Install_Java",
                    "properties": null,
                    "resources": [
                        "JACINTIA"
                    ],
                    "run_instance_count": "all",
                    "tabs": [],
                    "tasks": [
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "cd ../pipelines/$GO_PIPELINE_NAME/ContinuousIntegration\r\n\r\nsource /opt/rh/python27/enable\r\n\r\npython create_event.py $GO_REVISION_PLATFORMCODE $BRANCH_NAME CorePlatform \"Java Install\" --start"
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "passed"
                                ]
                            },
                            "type": "plugin"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "rm -rfv /eSpace"
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "ln -s $(pwd) /eSpace"
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "b10_0_0"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "aws s3 cp s3://$GO_ARTIFACTS_S3_BUCKET/$GO_DEPENDENCY_LOCATOR_CINTIA_JAVA/TranslationFiles.7z ."
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "7za x TranslationFiles.7z"
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "rm -fv TranslationFiles.7z"
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "find TranslationFiles/connectors/* -maxdepth 0 -not -iname \"*$JACINTIA_WEB_SERVER*\" -exec rm -rfv {} \\;"
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "find TranslationFiles/ -type d -exec chmod -v 750 {} \\;"
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "find TranslationFiles/ -type f -exec chmod -v 640 {} \\;"
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "find TranslationFiles/ -name \"*.sh\" -exec chmod -v 755 {} \\;"
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "aws s3 cp s3://$GO_ARTIFACTS_S3_BUCKET/$GO_DEPENDENCY_LOCATOR_CINTIA/Build.7z ."
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "b10_0_0"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "7za x Build.7z -oextracted"
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "b10_0_0"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "rm -fv Build.7z"
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "b10_0_0"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "service outsystems stop"
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "/bin/cp -av TranslationFiles/* /opt/outsystems/platform"
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "/bin/cp -av b10_0_0/extracted/js/* b10_0_0"
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "rm -rf b10_0_0/extracted"
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "find TranslationFiles | sed -r 's/TranslationFiles//' > /opt/outsystems/platform/filesSynced.txt"
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "HubServer/Setup/Developer/SyncBatches/afterSync.sh $JACINTIA_WEB_SERVER"
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "b10_0_0"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "cd ../pipelines/$GO_PIPELINE_NAME/ContinuousIntegration\r\n\r\nsource /opt/rh/python27/enable\r\n\r\npython update_pip_requirements.py"
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "passed"
                                ]
                            },
                            "type": "plugin"
                        },
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "/opt/outsystems/platform/configurationtool.sh /UpgradeInstall ADMIN_QAAUTH /Silent /SCInstall /RebuildSession admin admin"
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "passed"
                                ]
                            },
                            "type": "plugin"
                        },
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "cd ../pipelines/$GO_PIPELINE_NAME/ContinuousIntegration\r\n\r\nsource /opt/rh/python27/enable\r\n\r\npython java_install_results.py $GO_REVISION_PLATFORMCODE $BRANCH_NAME Ok http://$GO_SERVER/go/files/$GO_PIPELINE_NAME/$GO_PIPELINE_COUNTER/$GO_STAGE_NAME/$GO_STAGE_COUNTER/$GO_JOB_NAME/cruise-output/console.log"
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "passed"
                                ]
                            },
                            "type": "plugin"
                        },
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "cd ../pipelines/$GO_PIPELINE_NAME/ContinuousIntegration\r\n\r\nsource /opt/rh/python27/enable\r\n\r\npython java_install_results.py $GO_REVISION_PLATFORMCODE $BRANCH_NAME Failed http://$GO_SERVER/go/files/$GO_PIPELINE_NAME/$GO_PIPELINE_COUNTER/$GO_STAGE_NAME/$GO_STAGE_COUNTER/$GO_JOB_NAME/cruise-output/console.log"
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "failed"
                                ]
                            },
                            "type": "plugin"
                        }
                    ],
                    "timeout": 30
                },
                {
                    "artifacts": [],
                    "environment_variables": [],
                    "name": "Install_DotNET",
                    "properties": null,
                    "resources": [
                        "CIAPlatformCore"
                    ],
                    "run_instance_count": "all",
                    "tabs": [],
                    "tasks": [
                        {
                            "attributes": {
                                "arguments": [
                                    "create_event.py",
                                    "%GO_REVISION_PLATFORMCODE%",
                                    "%BRANCH_NAME%",
                                    "CorePlatform",
                                    "Install",
                                    "--start"
                                ],
                                "command": "python",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "ContinuousIntegration"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "cleanup",
                                    "--remove-unversioned",
                                    "--remove-ignored"
                                ],
                                "command": "svn",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "b10_0_0"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "/C",
                                    "aws",
                                    "s3",
                                    "cp",
                                    "s3://%GO_ARTIFACTS_S3_BUCKET%/%GO_DEPENDENCY_LOCATOR_CINTIA%/Build.7z",
                                    "."
                                ],
                                "command": "cmd.exe",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "b10_0_0"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "/C",
                                    "7z",
                                    "x",
                                    "Build.7z",
                                    "-oextracted"
                                ],
                                "command": "cmd.exe",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "b10_0_0"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "/C",
                                    "del",
                                    "Build.7z"
                                ],
                                "command": "cmd.exe",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "b10_0_0"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "pushd .\r\ncd b10_0_0\\extracted\r\nfor /R %%f in (.\\*) do ..\\HubServer\\tools\\BuildTools\\Common\\Tools\\touch.exe %%f\r\npopd"
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "passed"
                                ]
                            },
                            "type": "plugin"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "b10_0_0\\extracted\\Build",
                                    "b10_0_0\\Build",
                                    "/y",
                                    "/s",
                                    "/i"
                                ],
                                "command": "xcopy",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "/C",
                                    "rmdir",
                                    "b10_0_0\\extracted\\Build",
                                    "/s",
                                    "/q"
                                ],
                                "command": "cmd.exe",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "b10_0_0\\extracted\\SmsHandler",
                                    "b10_0_0\\HubServer\\SmsHandler\\bin\\",
                                    "/y",
                                    "/s",
                                    "/i"
                                ],
                                "command": "xcopy",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "b10_0_0\\extracted\\Dispatcher",
                                    "b10_0_0\\HubServer\\Dispatcher\\bin\\",
                                    "/y",
                                    "/s",
                                    "/i"
                                ],
                                "command": "xcopy",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "b10_0_0\\extracted\\mrgen",
                                    "b10_0_0\\Commons\\mrgen\\bin\\",
                                    "/y",
                                    "/s",
                                    "/i"
                                ],
                                "command": "xcopy",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "b10_0_0\\extracted\\js",
                                    "b10_0_0",
                                    "/y",
                                    "/s",
                                    "/i"
                                ],
                                "command": "xcopy",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "/C",
                                    "rmdir",
                                    "b10_0_0\\extracted",
                                    "/s",
                                    "/q"
                                ],
                                "command": "cmd.exe",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "/C HubServer\\tools\\BuildTools\\Common\\Tools\\junction.exe C:\\eSpace ."
                                ],
                                "command": "cmd.exe",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "b10_0_0"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "..\\ContinuousIntegration\\*",
                                    "QA\\ContinuousIntegration\\",
                                    "/y",
                                    "/s",
                                    "/i"
                                ],
                                "command": "xcopy",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "b10_0_0"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "ContinuousIntegration\\files\\*",
                                    "b10_0_0",
                                    "/y",
                                    "/s",
                                    "/i"
                                ],
                                "command": "xcopy",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "ServiceStudio\\ServiceStudio.config",
                                    "Build\\Debug\\",
                                    "/y",
                                    "/s",
                                    "/i"
                                ],
                                "command": "xcopy",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "b10_0_0"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "/C",
                                    "Commons\\ThirdParty\\nodejs\\update-modules.bat"
                                ],
                                "command": "cmd.exe",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "b10_0_0"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "/C UpdateDBG.bat"
                                ],
                                "command": "cmd.exe",
                                "on_cancel": null,
                                "run_if": [],
                                "working_directory": "b10_0_0/HubServer/"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "update_pip_requirements.py"
                                ],
                                "command": "python.exe",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "ContinuousIntegration"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "b10_0_0\\QA\\ContinuousIntegration\\bin\\PingASPNET.exe http://localhost/Users\r\n\r\nIF %ERRORLEVEL% NEQ 0 (\r\ndel /Q C:\\eSpace\\HubServer\\Setup\\Developer\\makefile.my.config\r\npushd C:\\eSpace\\HubServer\\SystemComponents\\\r\ncall Generate_System_Components_osp.bat\r\npopd\r\npushd b10_0_0\\QA\\ContinuousIntegration\\\r\npython -c \"import cleanup; cleanup.publish_system_components()\"\r\npopd\r\n)\r\n\r\nIF %ERRORLEVEL% EQU 0 (\r\nb10_0_0\\QA\\ContinuousIntegration\\bin\\PingASPNET.exe http://localhost/Users\r\n)\r\n\r\nexit %ERRORLEVEL%"
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "passed"
                                ]
                            },
                            "type": "plugin"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "create_event.py",
                                    "%GO_REVISION_PLATFORMCODE%",
                                    "%BRANCH_NAME%",
                                    "CorePlatform",
                                    "Install",
                                    "--end",
                                    "--haspassed",
                                    "True"
                                ],
                                "command": "python",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "ContinuousIntegration"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "create_event.py",
                                    "%GO_REVISION_PLATFORMCODE%",
                                    "%BRANCH_NAME%",
                                    "CorePlatform",
                                    "Install",
                                    "--end",
                                    "--haspassed",
                                    "False",
                                    "--goconsolelink",
                                    "http://%GO_SERVER%/go/files/%GO_PIPELINE_NAME%/%GO_PIPELINE_COUNTER%/%GO_STAGE_NAME%/%GO_STAGE_COUNTER%/%GO_JOB_NAME%/cruise-output/console.log"
                                ],
                                "command": "python",
                                "on_cancel": null,
                                "run_if": [
                                    "failed"
                                ],
                                "working_directory": "ContinuousIntegration"
                            },
                            "type": "exec"
                        }
                    ],
                    "timeout": 30
                }
            ],
            "name": "Install",
            "never_cleanup_artifacts": false
        },
        {
            "approval": {
                "authorization": {
                    "roles": [],
                    "users": []
                },
                "type": "success"
            },
            "clean_working_directory": false,
            "environment_variables": [],
            "fetch_materials": false,
            "jobs": [
                {
                    "artifacts": [
                        {
                            "destination": "TestResults",
                            "source": "b10_0_0/QA/ContinuousIntegration/results/fast/*.xml",
                            "type": "test"
                        },
                        {
                            "destination": "LatestTestDurationsResponse",
                            "source": "b10_0_0/QA/ContinuousIntegration/*.json",
                            "type": "build"
                        }
                    ],
                    "environment_variables": [],
                    "name": "JavaTests",
                    "properties": null,
                    "resources": [
                        "JACINTIA"
                    ],
                    "run_instance_count": "all",
                    "tabs": [],
                    "tasks": [
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "cp ../pipelines/$GO_PIPELINE_NAME/ContinuousIntegration/ ../pipelines/$GO_PIPELINE_NAME/$BRANCH_NAME/QA -r"
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "passed"
                                ]
                            },
                            "type": "plugin"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "/bin/cp /eSpace/QA/ContinuousIntegration/javaautomation/runner/outsystems.junit.jar /opt/outsystems/platform"
                                ],
                                "command": "/bin/bash",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": null
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "cd /eSpace/QA/ContinuousIntegration\r\n\r\nsource /opt/rh/python27/enable\r\n\r\npython create_test_run.py $GO_REVISION_PLATFORMCODE $BRANCH_NAME CorePlatform --overrideconfigs $OVERRIDEFILES --jobtypename Java"
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "passed"
                                ]
                            },
                            "type": "plugin"
                        },
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "cd /eSpace/QA/ContinuousIntegration\r\n\r\nsource /opt/rh/python27/enable\r\n\r\npython create_event.py $GO_REVISION_PLATFORMCODE $BRANCH_NAME CorePlatform Tests --atomic --message \"There was an unexpected failure in Java test run logic before starting to execute tests!\""
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "failed"
                                ]
                            },
                            "type": "plugin"
                        },
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "cd /eSpace/QA/ContinuousIntegration\r\n\r\nsource /opt/rh/python27/enable\r\n\r\npython stage_run.py --configs_filter JavaServerCommon,JavaRuntimePlatform,JavaREST,JavaSAP,JavaReact,JavaNRWidgets,JavaServerTests --branch $BRANCH_NAME --stage CorePlatform --consolelink http://$GO_SERVER/go/files/$GO_PIPELINE_NAME/$GO_PIPELINE_COUNTER/$GO_STAGE_NAME/$GO_STAGE_COUNTER/$GO_JOB_NAME/cruise-output/console.log --jobtypename Java"
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "passed"
                                ]
                            },
                            "type": "plugin"
                        },
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "cd /eSpace/QA/ContinuousIntegration\r\n\r\nsource /opt/rh/python27/enable\r\n\r\npython end_test_run.py $GO_REVISION_PLATFORMCODE $BRANCH_NAME CorePlatform --jobtypename Java"
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "any"
                                ]
                            },
                            "type": "plugin"
                        },
                        {
                            "attributes": {
                                "configuration": [
                                    {
                                        "key": "script",
                                        "value": "cd /eSpace/QA/ContinuousIntegration\r\n\r\nsource /opt/rh/python27/enable\r\n\r\npython -c \"import go_server; go_server.trigger_pipe_if_run_finished('FlakyDetection', '$BRANCH_NAME', $GO_REVISION_PLATFORMCODE, 'CorePlatform', '$GO_DEPENDENCY_LOCATOR_CINTIA')\""
                                    }
                                ],
                                "on_cancel": null,
                                "plugin_configuration": {
                                    "id": "script-executor",
                                    "version": "1"
                                },
                                "run_if": [
                                    "any"
                                ]
                            },
                            "type": "plugin"
                        }
                    ],
                    "timeout": 60
                },
                {
                    "artifacts": [
                        {
                            "destination": "TestResults",
                            "source": "b10_0_0/QA/ContinuousIntegration/results/fast/*.xml",
                            "type": "test"
                        },
                        {
                            "destination": "LatestTestDurationsResponse",
                            "source": "b10_0_0/QA/ContinuousIntegration/*.json",
                            "type": "build"
                        }
                    ],
                    "environment_variables": [],
                    "name": "CorePlatform_HS",
                    "properties": null,
                    "resources": [
                        "CIAPlatformCore"
                    ],
                    "run_instance_count": "all",
                    "tabs": [],
                    "tasks": [
                        {
                            "attributes": {
                                "arguments": [
                                    "create_test_run.py",
                                    "%GO_REVISION_PLATFORMCODE%",
                                    "%BRANCH_NAME%",
                                    "CorePlatform",
                                    "--overrideconfigs",
                                    "%OVERRIDEFILES%",
                                    "--jobtypename",
                                    "HubServer"
                                ],
                                "command": "python",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "b10_0_0\\QA\\ContinuousIntegration"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "stage_run.py",
                                    "--configs_filter",
                                    "HubServer,PlatformDatabaseProvider",
                                    "--branch",
                                    "%BRANCH_NAME%",
                                    "--batch",
                                    "%BATCH_SIZE%",
                                    "--stage",
                                    "CorePlatform",
                                    "--consolelink",
                                    "http://%GO_SERVER%/go/files/%GO_PIPELINE_NAME%/%GO_PIPELINE_COUNTER%/%GO_STAGE_NAME%/%GO_STAGE_COUNTER%/%GO_JOB_NAME%/cruise-output/console.log",
                                    "--jobtypename",
                                    "HubServer"
                                ],
                                "command": "python",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "b10_0_0\\QA\\ContinuousIntegration"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "end_test_run.py",
                                    "%GO_REVISION_PLATFORMCODE%",
                                    "%BRANCH_NAME%",
                                    "CorePlatform",
                                    "--jobtypename",
                                    "HubServer"
                                ],
                                "command": "python",
                                "on_cancel": null,
                                "run_if": [
                                    "any"
                                ],
                                "working_directory": "b10_0_0\\QA\\ContinuousIntegration"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "\"import go_server; go_server.trigger_pipe_if_run_finished('FlakyDetection', '%BRANCH_NAME%', %GO_REVISION_PLATFORMCODE%, 'CorePlatform', '%GO_DEPENDENCY_LOCATOR_CINTIA%')\""
                                ],
                                "command": "python",
                                "on_cancel": null,
                                "run_if": [
                                    "any"
                                ],
                                "working_directory": "ContinuousIntegration"
                            },
                            "type": "exec"
                        }
                    ],
                    "timeout": 30
                },
                {
                    "artifacts": [
                        {
                            "destination": "TestResults",
                            "source": "b10_0_0/QA/ContinuousIntegration/results/fast/*.xml",
                            "type": "test"
                        },
                        {
                            "destination": "LatestTestDurationsResponse",
                            "source": "b10_0_0/QA/ContinuousIntegration/*.json",
                            "type": "build"
                        }
                    ],
                    "environment_variables": [],
                    "name": "CorePlatform_SS",
                    "properties": null,
                    "resources": [
                        "CIAPlatformCore"
                    ],
                    "run_instance_count": "all",
                    "tabs": [],
                    "tasks": [
                        {
                            "attributes": {
                                "arguments": [
                                    "create_test_run.py",
                                    "%GO_REVISION_PLATFORMCODE%",
                                    "%BRANCH_NAME%",
                                    "CorePlatform",
                                    "--overrideconfigs",
                                    "%OVERRIDEFILES%",
                                    "--jobtypename",
                                    "ServiceStudio"
                                ],
                                "command": "python",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "b10_0_0\\QA\\ContinuousIntegration"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "stage_run.py",
                                    "--configs_filter",
                                    "ServiceStudio",
                                    "--branch",
                                    "%BRANCH_NAME%",
                                    "--batch",
                                    "%BATCH_SIZE%",
                                    "--stage",
                                    "CorePlatform",
                                    "--consolelink",
                                    "http://%GO_SERVER%/go/files/%GO_PIPELINE_NAME%/%GO_PIPELINE_COUNTER%/%GO_STAGE_NAME%/%GO_STAGE_COUNTER%/%GO_JOB_NAME%/cruise-output/console.log",
                                    "--jobtypename",
                                    "ServiceStudio"
                                ],
                                "command": "python",
                                "on_cancel": null,
                                "run_if": [
                                    "passed"
                                ],
                                "working_directory": "b10_0_0\\QA\\ContinuousIntegration"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "end_test_run.py",
                                    "%GO_REVISION_PLATFORMCODE%",
                                    "%BRANCH_NAME%",
                                    "CorePlatform",
                                    "--jobtypename",
                                    "ServiceStudio"
                                ],
                                "command": "python",
                                "on_cancel": null,
                                "run_if": [
                                    "any"
                                ],
                                "working_directory": "b10_0_0\\QA\\ContinuousIntegration"
                            },
                            "type": "exec"
                        },
                        {
                            "attributes": {
                                "arguments": [
                                    "-c",
                                    "\"import go_server; go_server.trigger_pipe_if_run_finished('FlakyDetection', '%BRANCH_NAME%', %GO_REVISION_PLATFORMCODE%, 'CorePlatform', '%GO_DEPENDENCY_LOCATOR_CINTIA%')\""
                                ],
                                "command": "python",
                                "on_cancel": null,
                                "run_if": [
                                    "any"
                                ],
                                "working_directory": "ContinuousIntegration"
                            },
                            "type": "exec"
                        }
                    ],
                    "timeout": 30
                }
            ],
            "name": "NRCorePlatformTests",
            "never_cleanup_artifacts": false
        }
    ]
}
